ARCHIVE_BASE_URL=http://localhost:8012
ARCHIVE_API_KEY=

# Generate a strong secret key for token encryption.
# You can create one with:
# openssl rand -hex 32
SECRET_KEY=

# Optional (enables admin test endpoints)
ADMIN_API_KEY=

# Optional
DATABASE_URL=postgresql+psycopg://user:pass@host:5432/weekly_wrapped_newsletter
LOG_LEVEL=INFO
# Max characters logged for request/response bodies (Archive + inbound API).
LOG_BODY_MAX_CHARS=8000
SESSION_TTL_DAYS=30
PORT=8081
CORS_ALLOW_ORIGINS=*

# Worker concurrency (per process)
WORKER_JOB_CONCURRENCY=1
WORKER_JOB_LEASE_SECONDS=60
WORKER_JOB_HEARTBEAT_SECONDS=30
WORKER_POLL_INTERVAL=1.0

# Watch history fetch (cursor-walk back in time)
# Walks from "now" backward until `since` is reached.
WATCH_HISTORY_SINCE_DATE=2025-01-01
# Optional override (milliseconds since epoch):
# WATCH_HISTORY_SINCE_MS=1735689600000
WATCH_HISTORY_PAGE_LIMIT=200
WATCH_HISTORY_MAX_PAGES=3

# CloudWatch (when using docker-compose.cloudwatch.yaml with awslogs)

# Email (AWS SES)
# Never commit real credentials. Prefer IAM roles or `aws configure` profiles.
AWS_EMAIL="Your App <noreply@example.com>"
AWS_REPLY_TO=team@teleport.computer
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
# Back-compat (also supported by this repo):
# AWS_ACCESS_KEY_SECRET=
AWS_REGION=us-east-1

# Weekly token for weekly report cron endpoints
WEEKLY_TOKEN=
WEEKLY_REPORT_NODE_URL=https://weekly-wrapped-newsletter-frontend.vercel.app/api/wrapped
WEEKLY_REPORT_NODE_TOKEN=
WEEKLY_REPORT_COVERAGE_GRACE_HOURS=0
WEEKLY_REPORT_FETCH_MAX_DATA_JOBS=8
WEEKLY_REPORT_NODE_URL=
WEEKLY_REPORT_NODE_TOKEN=

# S3 upload configuration
S3_BUCKET=feedling
S3_UPLOAD_PREFIX=uploads
S3_URL=https://diiz1ua008deo.cloudfront.net
